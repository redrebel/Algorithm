<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- https://www.interviewcake.com/question/javascript/inflight-entertainment?course=fc1&section=hashing-and-hash-tables -->
  </head>
  <body>
    <script>
      function hasPalindromePermutation(theString) {
        // Check if any permutation of the input is a palindrome
        const unpairedCharacters = new Set();

        for (const char of theString) {
          if (unpairedCharacters.has(char)) {
            unpairedCharacters.delete(char);
          } else {
            unpairedCharacters.add(char);
          }
        }

        return unpairedCharacters.size <= 1;
      }

      // Tests

      let desc = "permutation with odd number of chars";
      assertEqual(hasPalindromePermutation("aabcbcd"), true, desc);

      desc = "permutation with even number of chars";
      assertEqual(hasPalindromePermutation("aabccbdd"), true, desc);

      desc = "no permutation with odd number of chars";
      assertEqual(hasPalindromePermutation("aabcd"), false, desc);

      desc = "no permutation with even number of chars";
      assertEqual(hasPalindromePermutation("aabbcd"), false, desc);

      desc = "empty string";
      assertEqual(hasPalindromePermutation(""), true, desc);

      desc = "one character string ";
      assertEqual(hasPalindromePermutation("a"), true, desc);

      function assertEqual(a, b, desc) {
        if (a === b) {
          console.log(`${desc} ... PASS`);
        } else {
          console.log(`${desc} ... FAIL: ${a} != ${b}`);
        }
      }
    </script>
  </body>
</html>
